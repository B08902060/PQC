#define tran(s0,s1,s2,s3,s4,s5,s6,s7,t0,t1,t2,t3,t4,t5,t6,t7) \
    t0 = vtrn1u16(s0,s1);\
    t1 = vtrn2u16(s0,s1);\
    t2 = vtrn1u16(s2,s3);\
    t3 = vtrn2u16(s2,s3);\
    t4 = vtrn1u16(s4,s5);\
    t5 = vtrn2u16(s4,s5);\
    t6 = vtrn1u16(s6,s7);\
    t7 = vtrn2u16(s6,s7);\
    s0 = vtrn1u16x2(t0,t1);\
    s1 = vtrn2u16x2(t0,t1);\
    s2 = vtrn1u16x2(t2,t3);\
    s3 = vtrn2u16x2(t2,t3);\
    s4 = vtrn1u16x2(t4,t5);\
    s5 = vtrn2u16x2(t4,t5);\
    s6 = vtrn1u16x2(t6,t7);\
    s7 = vtrn2u16x2(t6,t7);\
    t0 = vtrn1u16x2(s0,s2);\
    t1 = vtrn1u16x2(s1,s3);\
    t2 = vtrn2u16x2(s0,s2);\
    t3 = vtrn2u16x2(s1,s3);\
    t4 = vtrn1u16x2(s4,s6);\
    t5 = vtrn1u16x2(s5,s7);\
    t6 = vtrn2u16x2(s4,s6);\
    t7 = vtrn2u16x2(s5,s7);\
    s0 = vtrn1u16x4(t0,t4);\
    s1 = vtrn1u16x4(t2,t6);\
    s2 = vtrn1u16x4(t1,t5);\
    s3 = vtrn1u16x4(t3,t7);\
    s4 = vtrn2u16x4(t0,t4);\
    s5 = vtrn2u16x4(t2,t6);\
    s6 = vtrn2u16x4(t1,t5);\
    s7 = vtrn2u16x4(t3,t7);\


#define mul8x8(s0,s1,s2,s3,s4,s5,s6,s7,u0,u1,u2,u3,u4,u5,u6,u7,c0,c1,c2,c3,c4,c5,c6,c7,c8,c9,c10,c11,c12,c13,c14,c15) \
    sb_vmul(c0,s0,u0);\
    sb_vmul(c1, s0, u1);\
    sb_vmla(c1, s1, u0);\
    sb_vmul(c2, s0, u2);\
    sb_vmla(c2, s1, u1);\
    sb_vmla(c2, s2, u0);\
    sb_vmul(c3, s0, u3);\
    sb_vmla(c3, s1, u2);\
    sb_vmla(c3, s2, u1);\
    sb_vmla(c3, s3, u0);\
    sb_vmul(c4, s0, u4);\
    sb_vmla(c4, s1, u3);\
    sb_vmla(c4, s2, u2);\
    sb_vmla(c4, s3, u1);\
    sb_vmla(c4, s4, u0);\
    sb_vmul(c5, s0, u5);\
    sb_vmla(c5, s1, u4);\
    sb_vmla(c5, s2, u3);\
    sb_vmla(c5, s3, u2);\
    sb_vmla(c5, s4, u1);\
    sb_vmla(c5, s5, u0);\
    sb_vmul(c6, s0, u6);\
    sb_vmla(c6, s1, u5);\
    sb_vmla(c6, s2, u4);\
    sb_vmla(c6, s3, u3);\
    sb_vmla(c6, s4, u2);\
    sb_vmla(c6, s5, u1);\
    sb_vmla(c6, s6, u0);\
    sb_vmul(c7, s0, u7);\
    sb_vmla(c7, s1, u6);\
    sb_vmla(c7, s2, u5);\
    sb_vmla(c7, s3, u4);\
    sb_vmla(c7, s4, u3);\
    sb_vmla(c7, s5, u2);\
    sb_vmla(c7, s6, u1);\
    sb_vmla(c7, s7, u0);\
    sb_vmul(c8, s1, u7);\
    sb_vmla(c8, s2, u6);\
    sb_vmla(c8, s3, u5);\
    sb_vmla(c8, s4, u4);\
    sb_vmla(c8, s5, u3);\
    sb_vmla(c8, s6, u2);\
    sb_vmla(c8, s7, u1);\
    sb_vmul(c9, s2, u7);\
    sb_vmla(c9, s3, u6);\
    sb_vmla(c9, s4, u5);\
    sb_vmla(c9, s5, u4);\
    sb_vmla(c9, s6, u3);\
    sb_vmla(c9, s7, u2);\
    sb_vmul(c10, s3, u7);\
    sb_vmla(c10, s4, u6);\
    sb_vmla(c10, s5, u5);\
    sb_vmla(c10, s6, u4);\
    sb_vmla(c10, s7, u3);\
    sb_vmul(c11, s4, u7);\
    sb_vmla(c11, s5, u6);\
    sb_vmla(c11, s6, u5);\
    sb_vmla(c11, s7, u4);\
    sb_vmul(c12, s5, u7);\
    sb_vmla(c12, s6, u6);\
    sb_vmla(c12, s7, u5);\
    sb_vmul(c13, s6, u7);\
    sb_vmla(c13, s7, u6);\
    sb_vmul(c14, s7, u7);\
    sb_vsub(c15,c14,c14);
